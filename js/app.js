/* =============================
   TRADUCTIONS
============================= */
const translations = {
  fr: {
    't-nav-home': 'Accueil',
    't-nav-tours': 'Tours',
    't-nav-omra': 'Omra',
    't-nav-services': 'Services',
    't-nav-contact': 'Contact',

    // Hero / Hajj
    't-hajj-banner-title': 'Inscription Hajj 2026',

    // Offres Omra (home)
    't-omra-title': 'Offres Omra',
    't-omra1-title': 'Omra 25 décembre — 3 janvier',
    't-omra1-dates': '25/12 — 03/01',
    't-omra1-price': '1595€',
    't-omra1-cta': 'S’inscrire',
    't-omra2-title': 'Omra 20 janvier — 3 février',
    't-omra2-dates': '20/01 — 03/02',
    't-omra2-price': '1395€',
    't-omra2-cta': 'S’inscrire',
    't-omra3-title': 'Omra du Ramadan',
    't-omra3-dates': 'Inscriptions ouvertes (dates à confirmer)',
    't-omra3-cta': 'S’inscrire',

    // Carrousel
    't-products-title': 'Nos produits phares',
    't-car-omra': 'Omra',
    't-car-hajj': 'Hajj 2026',
    't-car-sahara': 'Sahara algérien',
    't-car-study': 'Études Espagne & UK',
    't-car-services': 'Location de voiture',

    // TOURS
    't-tours-title': 'Tours & voyages',
    't-tours-omra-title': 'Séjour Omra',
    't-tours-omra-desc': 'Différentes formules : Confort, VIP & Économique.',
    't-tours-hajj-title': 'Hajj 2026',
    't-tours-hajj-desc': 'Accompagnement complet depuis l’Espagne.',
    't-tours-sahara-title': 'Sahara algérien',
    't-tours-sahara-desc': 'Désert, oasis, culture & patrimoine.',
    't-tours-algeria-title': 'Algérie nostalgie',
    't-tours-algeria-desc': 'Programmes sur mesure pour la diaspora.',
    't-tours-andalucia-title': 'Andalousie — patrimoine islamique',
    't-tours-andalucia-desc': 'Cordoue, Séville, Grenade… visites guidées.',
    't-tours-uk-title': 'Études en Angleterre',
    't-tours-uk-desc': 'Conseil, inscription & suivi.',
    't-tours-es-title': 'Études en Espagne',
    't-tours-es-desc': 'Accompagnement complet pour les étudiants.',
    't-tours-halal-title': 'Voyages halal',
    't-tours-halal-desc': 'Turquie, Bosnie, Jordanie, Malaisie, Indonésie, Dubaï, Andalousie…',

    // OMRA PACKS
    't-omra-pack-title': 'Formules Omra',
    't-omra-pack-sub': 'Choisissez votre formule idéale selon votre budget et votre confort.',
    't-omra-pack-comfort-title': 'Omra Confort',
    't-omra-pack-comfort-desc': 'Hôtels 4*, proximité des Haramain, encadrement francophone & arabophone.',
    't-omra-pack-vip-title': 'Omra VIP',
    't-omra-pack-vip-desc': 'Hôtels 5*, prestations premium, petits groupes, service personnalisé.',
    't-omra-pack-econ-title': 'Omra Économique',
    't-omra-pack-econ-desc': 'Formule accessible avec encadrement complet et prestations essentielles.',
    't-omra-pack-cta-1': 'Demander un devis',
    't-omra-pack-cta-2': 'Demander un devis',
    't-omra-pack-cta-3': 'Demander un devis',

    // SERVICES
    't-services-title': 'Services & partenaires',
    't-serv-telecom-title': 'Partenaires télécom',
    't-serv-telecom-desc': 'Lebara, Orange, MasMovil — cartes SIM et recharges.',
    't-serv-transfer-title': 'Transfert d’argent',
    't-serv-transfer-desc': 'Western Union, Ria — transferts sécurisés.',
    't-serv-luggage-title': 'Garde-bagages',
    't-serv-luggage-desc': 'Consigne sécurisée à l’agence.',
    't-serv-visa-title': 'Assistance visa',
    't-serv-visa-desc': 'Aide et préparation de dossier.',
    't-serv-tickets-title': 'Billetterie complète',
    't-serv-tickets-desc': 'Billets terrestres, maritimes et aériens.',
    't-serv-car-title': 'Location de voiture',
    't-serv-car-desc': 'Organisation avec partenaires locaux & internationaux.',
    't-serv-hotel-title': 'Hébergements & hôtels',
    't-serv-hotel-desc': 'Appartements, hôtels & résidences.',

    // CONTACT
    't-contact-title': 'Contact',
    't-contact-name': 'Nom',
    't-contact-firstname': 'Prénom',
    't-contact-residence': 'Résidence',
    't-contact-city': 'Ville de départ',
    't-contact-lang': 'Langue préférée',
    't-contact-date': 'Date estimée du voyage',
    't-contact-type': 'Type de demande',
    't-contact-method': 'Moyen de contact souhaité',
    't-contact-phone': 'WhatsApp',
    't-contact-message': 'Message',
    't-contact-send': 'Envoyer'
  },

  es: {
    't-nav-home': 'Inicio',
    't-nav-tours': 'Viajes',
    't-nav-omra': 'Omra',
    't-nav-services': 'Servicios',
    't-nav-contact': 'Contacto',

    't-hajj-banner-title': 'Inscripción Hajj 2026',

    't-omra-title': 'Ofertas Omra',
    't-omra1-title': 'Omra 25 de diciembre — 3 de enero',
    't-omra1-dates': '25/12 — 03/01',
    't-omra1-price': '1595€',
    't-omra1-cta': 'Inscribirse',
    't-omra2-title': 'Omra 20 de enero — 3 de febrero',
    't-omra2-dates': '20/01 — 03/02',
    't-omra2-price': '1395€',
    't-omra2-cta': 'Inscribirse',
    't-omra3-title': 'Omra de Ramadán',
    't-omra3-dates': 'Inscripciones abiertas (fechas por confirmar)',
    't-omra3-cta': 'Inscribirse',

    't-products-title': 'Nuestros productos estrella',
    't-car-omra': 'Omra',
    't-car-hajj': 'Hajj 2026',
    't-car-sahara': 'Sáhara argelino',
    't-car-study': 'Estudios España & UK',
    't-car-services': 'Alquiler de coche',

    't-tours-title': 'Viajes y programas',
    't-tours-omra-title': 'Estancia Omra',
    't-tours-omra-desc': 'Diferentes fórmulas: Confort, VIP y Económica.',
    't-tours-hajj-title': 'Hajj 2026',
    't-tours-hajj-desc': 'Acompañamiento completo desde España.',
    't-tours-sahara-title': 'Sáhara argelino',
    't-tours-sahara-desc': 'Desierto, oasis, cultura y patrimonio.',
    't-tours-algeria-title': 'Argelia nostalgia',
    't-tours-algeria-desc': 'Programas a medida para la diáspora.',
    't-tours-andalucia-title': 'Andalucía — patrimonio islámico',
    't-tours-andalucia-desc': 'Córdoba, Sevilla, Granada… visitas guiadas.',
    't-tours-uk-title': 'Estudios en Inglaterra',
    't-tours-uk-desc': 'Asesoramiento, matrícula y seguimiento.',
    't-tours-es-title': 'Estudios en España',
    't-tours-es-desc': 'Acompañamiento completo para estudiantes.',
    't-tours-halal-title': 'Viajes halal',
    't-tours-halal-desc': 'Turquía, Bosnia, Jordania, Malasia, Indonesia, Dubái, Andalucía…',

    't-omra-pack-title': 'Formulas Omra',
    't-omra-pack-sub': 'Elige la fórmula ideal según tu presupuesto y confort.',
    't-omra-pack-comfort-title': 'Omra Confort',
    't-omra-pack-comfort-desc': 'Hoteles 4*, proximidad a los Haramain, guías en francés y árabe.',
    't-omra-pack-vip-title': 'Omra VIP',
    't-omra-pack-vip-desc': 'Hoteles 5*, servicios premium, grupos reducidos, servicio personalizado.',
    't-omra-pack-econ-title': 'Omra Económica',
    't-omra-pack-econ-desc': 'Fórmula accesible con acompañamiento completo y prestaciones esenciales.',
    't-omra-pack-cta-1': 'Pedir presupuesto',
    't-omra-pack-cta-2': 'Pedir presupuesto',
    't-omra-pack-cta-3': 'Pedir presupuesto',

    't-services-title': 'Servicios y socios',
    't-serv-telecom-title': 'Socios de telecomunicaciones',
    't-serv-telecom-desc': 'Lebara, Orange, MasMovil — tarjetas SIM y recargas.',
    't-serv-transfer-title': 'Envío de dinero',
    't-serv-transfer-desc': 'Western Union, Ria — envíos seguros.',
    't-serv-luggage-title': 'Consigna de equipaje',
    't-serv-luggage-desc': 'Custodia segura en la agencia.',
    't-serv-visa-title': 'Asistencia de visado',
    't-serv-visa-desc': 'Ayuda y preparación de expediente.',
    't-serv-tickets-title': 'Billetes completos',
    't-serv-tickets-desc': 'Billetes terrestres, marítimos y aéreos.',
    't-serv-car-title': 'Alquiler de coche',
    't-serv-car-desc': 'Organización con socios locales e internacionales.',
    't-serv-hotel-title': 'Alojamiento y hoteles',
    't-serv-hotel-desc': 'Apartamentos, hoteles y residencias.',

    't-contact-title': 'Contacto',
    't-contact-name': 'Nombre',
    't-contact-firstname': 'Apellido',
    't-contact-residence': 'Residencia',
    't-contact-city': 'Ciudad de salida',
    't-contact-lang': 'Idioma preferido',
    't-contact-date': 'Fecha estimada del viaje',
    't-contact-type': 'Tipo de solicitud',
    't-contact-method': 'Método de contacto preferido',
    't-contact-phone': 'WhatsApp',
    't-contact-message': 'Mensaje',
    't-contact-send': 'Enviar'
  },

  en: {
    't-nav-home': 'Home',
    't-nav-tours': 'Tours',
    't-nav-omra': 'Umrah',
    't-nav-services': 'Services',
    't-nav-contact': 'Contact',

    't-hajj-banner-title': 'Hajj 2026 Registration',

    't-omra-title': 'Umrah offers',
    't-omra1-title': 'Umrah 25 December — 3 January',
    't-omra1-dates': '25/12 — 03/01',
    't-omra1-price': '1595€',
    't-omra1-cta': 'Register',
    't-omra2-title': 'Umrah 20 January — 3 February',
    't-omra2-dates': '20/01 — 03/02',
    't-omra2-price': '1395€',
    't-omra2-cta': 'Register',
    't-omra3-title': 'Ramadan Umrah',
    't-omra3-dates': 'Pre-registration open (dates to be confirmed)',
    't-omra3-cta': 'Register',

    't-products-title': 'Our main products',
    't-car-omra': 'Umrah',
    't-car-hajj': 'Hajj 2026',
    't-car-sahara': 'Algerian Sahara',
    't-car-study': 'Studies Spain & UK',
    't-car-services': 'Car rental',

    't-tours-title': 'Tours & programs',
    't-tours-omra-title': 'Umrah stay',
    't-tours-omra-desc': 'Different formulas: Comfort, VIP & Economy.',
    't-tours-hajj-title': 'Hajj 2026',
    't-tours-hajj-desc': 'Full support from Spain.',
    't-tours-sahara-title': 'Algerian Sahara',
    't-tours-sahara-desc': 'Desert, oases, culture & heritage.',
    't-tours-algeria-title': 'Algeria Nostalgia',
    't-tours-algeria-desc': 'Tailor-made programs for the diaspora.',
    't-tours-andalucia-title': 'Andalusia — Islamic heritage',
    't-tours-andalucia-desc': 'Cordoba, Seville, Granada… guided visits.',
    't-tours-uk-title': 'Studies in England',
    't-tours-uk-desc': 'Advice, admission & support.',
    't-tours-es-title': 'Studies in Spain',
    't-tours-es-desc': 'Full support for students.',
    't-tours-halal-title': 'Halal trips',
    't-tours-halal-desc': 'Turkey, Bosnia, Jordan, Malaysia, Indonesia, Dubai, Andalusia…',

    't-omra-pack-title': 'Umrah packages',
    't-omra-pack-sub': 'Choose your ideal package according to your budget and comfort.',
    't-omra-pack-comfort-title': 'Umrah Comfort',
    't-omra-pack-comfort-desc': '4* hotels, close to the Haramain, French & Arabic-speaking guides.',
    't-omra-pack-vip-title': 'Umrah VIP',
    't-omra-pack-vip-desc': '5* hotels, premium services, small groups, personalised service.',
    't-omra-pack-econ-title': 'Umrah Economy',
    't-omra-pack-econ-desc': 'Affordable package with full support and essential services.',
    't-omra-pack-cta-1': 'Request a quote',
    't-omra-pack-cta-2': 'Request a quote',
    't-omra-pack-cta-3': 'Request a quote',

    't-services-title': 'Services & partners',
    't-serv-telecom-title': 'Telecom partners',
    't-serv-telecom-desc': 'Lebara, Orange, MasMovil — SIM cards and top-ups.',
    't-serv-transfer-title': 'Money transfer',
    't-serv-transfer-desc': 'Western Union, Ria — secure transfers.',
    't-serv-luggage-title': 'Luggage storage',
    't-serv-luggage-desc': 'Secure storage at the agency.',
    't-serv-visa-title': 'Visa assistance',
    't-serv-visa-desc': 'Help and file preparation.',
    't-serv-tickets-title': 'Full ticketing',
    't-serv-tickets-desc': 'Land, sea and air tickets.',
    't-serv-car-title': 'Car rental',
    't-serv-car-desc': 'Organization with local & international partners.',
    't-serv-hotel-title': 'Accommodation & hotels',
    't-serv-hotel-desc': 'Apartments, hotels & residences.',

    't-contact-title': 'Contact',
    't-contact-name': 'Last name',
    't-contact-firstname': 'First name',
    't-contact-residence': 'Residence',
    't-contact-city': 'Departure city',
    't-contact-lang': 'Preferred language',
    't-contact-date': 'Estimated travel date',
    't-contact-type': 'Type of request',
    't-contact-method': 'Preferred contact method',
    't-contact-phone': 'WhatsApp',
    't-contact-message': 'Message',
    't-contact-send': 'Send'
  },

  ar: {
    't-nav-home': 'الرئيسية',
    't-nav-tours': 'الرحلات',
    't-nav-omra': 'العمرة',
    't-nav-services': 'الخدمات',
    't-nav-contact': 'اتصل بنا',

    't-hajj-banner-title': 'بداية تسجيل حج 2026',

    't-omra-title': 'عروض العمرة',
    't-omra1-title': 'عمرة 25 ديسمبر — 3 يناير',
    't-omra1-dates': '25/12 — 03/01',
    't-omra1-price': '1595€',
    't-omra1-cta': 'التسجيل',
    't-omra2-title': 'عمرة 20 يناير — 3 فبراير',
    't-omra2-dates': '20/01 — 03/02',
    't-omra2-price': '1395€',
    't-omra2-cta': 'التسجيل',
    't-omra3-title': 'عمرة رمضان',
    't-omra3-dates': 'فتح باب التسجيل (التواريخ لاحقاً)',
    't-omra3-cta': 'التسجيل',

    't-products-title': 'منتجاتنا المميزة',
    't-car-omra': 'العمرة',
    't-car-hajj': 'حج 2026',
    't-car-sahara': 'صحراء الجزائر',
    't-car-study': 'الدراسة في إسبانيا وإنجلترا',
    't-car-services': 'تأجير السيارات',

    't-tours-title': 'الرحلات والبرامج',
    't-tours-omra-title': 'رحلة عمرة',
    't-tours-omra-desc': 'عروض مختلفة: كومفورت، VIP واقتصادية.',
    't-tours-hajj-title': 'حج 2026',
    't-tours-hajj-desc': 'مرافقة كاملة انطلاقاً من إسبانيا.',
    't-tours-sahara-title': 'صحراء الجزائر',
    't-tours-sahara-desc': 'صحراء، واحات، ثقافة وتراث.',
    't-tours-algeria-title': 'رحلات حنين إلى الجزائر',
    't-tours-algeria-desc': 'برامج خاصة لأبناء الجالية.',
    't-tours-andalucia-title': 'الأندلس — الإرث الإسلامي',
    't-tours-andalucia-desc': 'قرطبة، إشبيلية، غرناطة… زيارات تاريخية.',
    't-tours-uk-title': 'الدراسة في إنجلترا',
    't-tours-uk-desc': 'استشارة ومرافقة للتسجيل والمتابعة.',
    't-tours-es-title': 'الدراسة في إسبانيا',
    't-tours-es-desc': 'مرافقة كاملة للطلاب.',
    't-tours-halal-title': 'رحلات حلال',
    't-tours-halal-desc': 'تركيا، البوسنة، الأردن، ماليزيا، إندونيسيا، دبي، الأندلس…',

    't-omra-pack-title': 'باقات العمرة',
    't-omra-pack-sub': 'اختر الباقة المناسبة حسب ميزانيتك ودرجة الراحة.',
    't-omra-pack-comfort-title': 'عمرة كومفورت',
    't-omra-pack-comfort-desc': 'فنادق 4 نجوم، قرب الحرمين، مرافقة بالعربية والفرنسية.',
    't-omra-pack-vip-title': 'عمرة VIP',
    't-omra-pack-vip-desc': 'فنادق 5 نجوم، خدمات فاخرة، مجموعات صغيرة وخدمة خاصة.',
    't-omra-pack-econ-title': 'عمرة اقتصادية',
    't-omra-pack-econ-desc': 'عرض اقتصادي مع مرافقة كاملة وخدمات أساسية.',
    't-omra-pack-cta-1': 'طلب عرض سعر',
    't-omra-pack-cta-2': 'طلب عرض سعر',
    't-omra-pack-cta-3': 'طلب عرض سعر',

    't-services-title': 'الخدمات والشركاء',
    't-serv-telecom-title': 'شركاؤنا في الاتصالات',
    't-serv-telecom-desc': 'لبارا، أورانج، ماس موفيل — شرائح واتصالات.',
    't-serv-transfer-title': 'تحويل الأموال',
    't-serv-transfer-desc': 'ويسترن يونيون، ريا — تحويلات آمنة.',
    't-serv-luggage-title': 'حفظ الأمتعة',
    't-serv-luggage-desc': 'خدمة حفظ الأمتعة في الوكالة.',
    't-serv-visa-title': 'مساعدة في التأشيرة',
    't-serv-visa-desc': 'مرافقة وتجهيز ملف التأشيرة.',
    't-serv-tickets-title': 'حجوزات النقل',
    't-serv-tickets-desc': 'تذاكر برية وبحرية وجوية.',
    't-serv-car-title': 'تأجير السيارات',
    't-serv-car-desc': 'تنظيم تأجير السيارات مع شركائنا.',
    't-serv-hotel-title': 'الإقامة والفنادق',
    't-serv-hotel-desc': 'شقق وفنادق وإقامات سياحية.',

    't-contact-title': 'اتصل بنا',
    't-contact-name': 'الاسم',
    't-contact-firstname': 'اللقب',
    't-contact-residence': 'مكان الإقامة',
    't-contact-city': 'مدينة الانطلاق',
    't-contact-lang': 'اللغة المفضلة',
    't-contact-date': 'تاريخ السفر المتوقع',
    't-contact-type': 'نوع الطلب',
    't-contact-method': 'طريقة التواصل المفضلة',
    't-contact-phone': 'واتساب',
    't-contact-message': 'رسالتك',
    't-contact-send': 'إرسال'
  }
};

/* =============================
   CHANGEMENT DE PAGE
============================= */
function showPage(pageId) {
  document.querySelectorAll(".page").forEach(p => {
    p.classList.toggle("active", p.id === "page-" + pageId);
  });

  document.querySelectorAll(".nav-link").forEach(link => {
    link.classList.toggle("active", link.dataset.pageLink === pageId);
  });

  window.scrollTo({ top: 0, behavior: "smooth" });
}

/* =============================
   TRADUCTION
============================= */
function applyTranslations(lang) {
  const dict = translations[lang];
  if (!dict) return;

  Object.keys(dict).forEach(id => {
    const el = document.getElementById(id);
    if (!el) return;

    const value = dict[id];
    if (typeof value === 'string' && value.includes("<br>")) {
      el.innerHTML = value;
    } else {
      el.textContent = value;
    }
  });

  document.body.classList.toggle("rtl", lang === "ar");
}

function switchLang(lang) {
  document.querySelectorAll(".lang-pill").forEach(p =>
    p.classList.toggle("active", p.dataset.lang === lang)
  );
  applyTranslations(lang);
}

/* =============================
   CLICS → PAGE CONTACT
============================= */
function activateCards() {
  // boutons / cartes qui amènent au contact
  document.querySelectorAll(".hero-to-contact").forEach(el => {
    el.addEventListener("click", () => showPage("contact"));
  });

  // Cartes du carrousel
  document.querySelectorAll(".carousel-item").forEach(item => {
    const target = item.dataset.target;
    if (target) {
      item.addEventListener("click", () => showPage(target));
    }
  });
}

/* =============================
   CARROUSEL AUTO
============================= */
function initCarousel() {
  const track = document.querySelector(".carousel-inner");
  if (!track) return;

  let index = 0;

  setInterval(() => {
    const items = document.querySelectorAll(".carousel-item");
    if (!items.length) return;

    const width = items[0].offsetWidth + 16;
    index = (index + 1) % items.length;

    track.scrollTo({
      left: width * index,
      behavior: "smooth"
    });
  }, 3000);
}

/* =============================
   INIT GLOBALE
============================= */
document.addEventListener("DOMContentLoaded", () => {
  applyTranslations("fr");   // langue par défaut
  activateCards();
  initCarousel();
});
